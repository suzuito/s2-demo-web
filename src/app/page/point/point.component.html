<mat-card>
    <mat-card-content>
        <div class='part-page'>
            <div class='page-statement'>

                <h1 appHeadRef id='s2.Point構造体'></h1>
                <p>
                    <app-link href='https://pkg.go.dev/github.com/golang/geo/s2#Point'>
                        s2.Point
                    </app-link>
                    構造体は、s2を使用していると何度も登場します。
                    s2の幾何学計算で用いられる単位球面上の点の座標は、基本的には、この構造体を用いて表現されるからです。
                </p>

                <p>
                    s2.Point は単位球面上の座標を 3 次元ベクトルで表現します。
                    単位球とは、半径の長さが 1 である球です。
                    従って、s2.Point のベクトルの成分 x, y, z の値は 0 から 1 の範囲に収まります。
                    また、このベクトルの長さは必ず 1 となります。
                </p>

                <h2 appHeadRef id='s2.PointFromLatLng'>
                </h2>

                <p>
                    <app-link href='https://pkg.go.dev/github.com/golang/geo/s2#PointFromLatLng'>s2.PointFromLatLng
                    </app-link>関数は s2.LatLng から s2.Point 構造体のインスタンスを生成します。
                </p>

                <h2 appHeadRef id='s2.PointFromCoord'>
                </h2>

                <p>
                    <app-link href='https://pkg.go.dev/github.com/golang/geo/s2#PointFromCoords'>s2.PointFromCoords
                    </app-link>関数は 3 次元ベクトルから s2.Point 構造体のインスタンスを生成します。
                    入力として与えられたベクトルの長さが 1 ではなかった場合、長さ 1 のベクトルになるように変換してから、インスタンスを生成します。
                </p>
            </div>
            <div class='page-source-code'>
                <app-github-source-code path='suzuito/s2-demo-go/main/page/pagepoint02/main.go' lang='language-go'>
                </app-github-source-code>
                <app-github-source-code path='suzuito/s2-demo-go/main/page/pagepoint02/result.txt' lang='language-zsh'>
                </app-github-source-code>
            </div>
        </div>
        <!--
        <pre><code [highlight]='code2' class='language-go'></code></pre>

        <h3 appHeadRef id='s2.Point'>s2.Point</h3>

        <p>s2では、緯度・経度に対して直接の幾何計算はしない。緯度・経度を単位球面上の座標に変換した後の（x,y,z）座標に対して幾何学計算が行われる。
            <app-link href='https://godoc.org/github.com/golang/geo/s2#Point'>s2.Point構造体</app-link>
            が単位球面上の（x,y,z）座標を表わす。
        </p>
        <pre><code [highlight]='code3' class='language-go'></code></pre>

        <p>
            <app-link href='https://godoc.org/github.com/golang/geo/s2#LatLng'>r3.Vector構造体</app-link>
        </p>
        <pre><code [highlight]='code4' class='language-go'></code></pre>

        <p>
            s2における全ての幾何計算は、s2.Pointに対して行われる。
            次の関数は緯度・経度を単位球面上の点へ変換する。</p>

        <pre><code [highlight]='code5' class='language-go'></code></pre>

        <h3 id='demo1'>デモ1</h3>

        <p>地図上のどこかをクリックすると、各座標の値が表示されるデモ。</p>

        <google-map width='100%' height='300px' (mapClick)='clickMap1($event)' [zoom]='1'></google-map>

        <table>
            <tr>
                <td>緯度,経度（度数表現）</td>
                <td>(</td>
                <td>{{clicked.lat}}</td>
                <td>,</td>
                <td>{{clicked.lng}}</td>
                <td>)</td>
            </tr>
            <tr *ngIf='clickedAsLatLng'>
                <td>緯度,経度（s2.LatLng構造体）</td>
                <td>(</td>
                <td>{{clickedAsLatLng.Lat}}</td>
                <td>,</td>
                <td>{{clickedAsLatLng.Lng}}</td>
                <td>)</td>
            </tr>
            <tr *ngIf='clickedAsPoint'>
                <td>単位球面上の座標（s2.Point構造体）</td>
                <td>(</td>
                <td>{{clickedAsPoint.X}}</td>
                <td>,</td>
                <td>{{clickedAsPoint.Y}}</td>
                <td>,</td>
                <td>{{clickedAsPoint.Z}}</td>
                <td>)</td>
            </tr>
        </table>

        <div #elUnitSphere>
        </div>

        <h3>距離</h3>

        <p>距離を算出するためには、s2.Point構造体のDistance関数を用いる。</p>
        <pre><code [highlight]='codePointsDistance' class='language-go'></code></pre>
        -->
        <div #elUnitSphere>
        </div>
    </mat-card-content>
</mat-card>